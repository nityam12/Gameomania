const users=[],addUser=({id:e,username:r,room:s})=>{if(r=r.trim().toLowerCase(),s=s.trim().toLowerCase(),!r||!s)return{error:"Username and room are required!"};if(users.find(e=>e.room===s&&e.username===r))return{error:"Username is in use!"};const o={id:e,username:r,room:s};return users.push(o),{user:o}},removeUser=e=>{const r=users.findIndex(r=>r.id===e);if(-1!==r)return users.splice(r,1)[0]},getUser=e=>users.find(r=>r.id===e),getUsersInRoom=e=>(e=e.trim().toLowerCase(),users.filter(r=>r.room===e));module.exports={addUser:addUser,removeUser:removeUser,getUser:getUser,getUsersInRoom:getUsersInRoom};